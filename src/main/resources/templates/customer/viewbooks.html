<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Những cuốn sách</title>
    <!-- Phải thêm popper để không bị lỗi dropdown-menu -->
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    
	<style> 
		body { background-color: #f8f9fa  }
		.book-card { 
			margin-bottom: 20px; 
			margin-top: 20px;
		} 
		.book-card .card-img {
			margin-top: 20px;
			margin-bottom: 20px;
		}
		.card.book-card {
    		border: 1px solid rgb(182,232,241);
    		border-radius: 20px
		}
		.card.book-card:hover {
    		background-color: azure;
		}
		.flex-item {
    		display: flex;
    		flex: 1 0 auto;
		}
		.outer-frame {
			width: 340px;
    		height: 300px;
    		border: 1px solid rgb(255, 255, 255);
    		padding: 10px;
    		margin: 10px 10px 10px 10px;
    		border-radius: 10px;
		}
		.btn-see-details:hover {
			color: rgb(182,232,241);
		}
		.card-title a {
			color: rgb(0, 0, 128);
        	text-align: center;			 			
		}
		.btn-see-details{
			background-color: rgb(2,88,155);
			color: rgb(255, 255, 255);
			border: 1px rgb(2,88,155);
			border-radius: 10px
		}
		.btn-outline {
			border-radius: 10px;
			color: black;
			background-color: white;
		}
		.btn-outline:hover {
				color:rgb(2,88,155); /* Thay đổi màu văn bản khi trỏ chuột vào nút */
		}
		.form-control:focus {
        	width: 700px; /* Thay 500px bằng độ dài bạn muốn */
        	height: 45px;
        	border-radius: 10px
    	}
    	
    	.btn-catalog {
			background-color: rgb(2,88,155);
			color: rgb(255, 255, 255);
			border: 1px rgb(2,88,155);
			border-radius: 5px;
			height: 45px;
			border-radius: 10px
    	}
    	.btn-catalog:hover {
			color: rgb(182,232,241);
		}
		
    	.frame.main {
			margin-bottom: 10px;
			margin-right: 10px;
		}

		h3 {
        	text-align: center;
        	margin-top: 10px;
        	margin-bottom: 20px;  
        	color: rgb(2,88,155);     	
    	}
		.page-link {
			border: 1px solid rgb(182,232,241);
		}
		
		.frame-number {
			display: flex;
    		justify-content: center;
			border-radius: 20px
		}
		.col-price {
			margin-bottom: 20px;
        	text-align: justify;			 
		}
		.card-text {
			color: orangered;
		}
		
		.row-image-intro {
		    display: flex;
		    justify-content: center;
		    align-items: center;
		}
		
		.col-image {
		    padding: 5px;  /* Điều chỉnh khoảng cách giữa các cột ở đây */
		    margin-left: 10px;
		    
		}
		
		.card-image {
			width: 230px; /* Điều chỉnh chiều rộng ở đây */
    		height: 260px; /* Điều chỉnh chiều cao ở đây */
    		display: flex;
		    justify-content: center;
		    align-items: center;
			border-radius: 20px;
			margin-top: 10px;  
			margin-bottom: 10px;  
			margin-left: 10px;
			margin-right: 10px;
		}
		
		.frame-intro {
			border: 1px solid rgb(182,232,241);
    		display: flex;
			margin-top: 20px;  
			margin-bottom: 20px; 
			border-radius: 20px;						
		}
		.frame-intro:hover {
			background-color: azure;
		}
		.row{
			margin-top: 10px;
		}
		
		.container.main {
			border: 2px ;
	        border-radius: 5px;	  
	        border-radius: 15px;	
	        padding: 15px;
	        margin-top: 10px;
	        margin-bottom: 10px;
		}
		
		.carousel-inner {
		  border-radius: 20px;
		  width: 810px; /* Chiều rộng cố định */
		  height: 400px; /* Chiều cao cố định */
		}
		
		.carousel-inner img {
		  width: 100%; /* Chiều rộng của ảnh bằng với chiều rộng của khung */
		  height: 100%; /* Chiều cao của ảnh bằng với chiều cao của khung */
		  object-fit: cover; /* Ảnh sẽ được co dãn để vừa với khung mà không làm thay đổi tỷ lệ */
		}
		
		.no-bullets {
		    list-style-type: none;
		    text-align: le;
		}
		
		.dropdown.open{
			list-style-type: none;
		}
		
		.level-0 {		    
		    font-family: Arial, sans-serif;
		    padding-top: 9px;
		    padding-bottom: 9px;
		    padding-right: 15px;
		}
		.level-0:hover {
		    color: rgb(2,88,155);
		    background-color: aliceblue;
		    border-radius: 10px;
		}
		a {
			color: black;
			font-family: Arial, sans-serif;
			font-size: 14px;
		}
		
		a:hover {
			text-decoration: none;
			color: rgb(2,88,155);
		}
		
		h4 {
        	text-align: left;
        	margin-top: 10px;
        	margin-bottom: 20px;  
        	color: rgb(2,88,155);     	
    	}
    	
    	h4.frame {
        	text-align: center;
        	margin-top: 10px;
        	margin-bottom: 20px;  
        	color: rgb(2,88,155);     	
    	}
    	
    	.navbar-nav {
			display: frex;
		}
		.navbar-nav-left {
			width: 70%;
		}
		.navbar-nav-right {
			width: 30%;
		}
		.nav-link {
			display: flex;
      		align-items: center;
      		column-gap: 0.5rem;
      		width: fit-content;
		}
		.move-right {
			margin-left: auto;
			display: flex;
			float: right;
		}
		.material-symbols-outlined{
			color: rgb(2,88,155);
		}
		
		.product.images-container{
			width: 120px;
			height: 200px;
		}
		
		.item-inner {
			margin-bottom: 30px;
		}
		
		.ma-box-content {
	        border-radius: 5px;
	        padding: 10px;
	    }
	        
	    .ma-box-content:hover {
			box-shadow: 0 3px 5px rgb(226, 226, 226);
			border: solid 1px rgb(226, 226, 226);
		}
		
		.col-image{
			border-radius: 20px;
			margin: 0px;
		}
			        
	    .col-image:hover {
			box-shadow: 3px 3px 5px 3px #F1F1CF;
		}
			
	
	    .hidden-content {
	        display: none;
	    }
	    .container.main {
			box-shadow: 0 8px 10px rgb(226, 226, 226);
			
		}

		.material-symbols-outlined.search{
			color: rgb(2,88,155);
		}

		.material-symbols-outlined.click{
			color: rgb(2,88,155);
		}
		.material-symbols-outlined.click:hover {
			color: rgb(182,232,241);
		}
		
		.page-link {
	        height: 40px;
	        color: rgb(2,88,155);
			border: #f8f9fa;
			border-radius: 10px !important;
			margin: 2px;
	    }
	    .page-item.active .page-link {
			background-color: rgb(182,232,241);;
			color: rgb(2,88,155);
		}

	    .page-link:hover {
			background-color: rgb(182,232,241);	 
		}
		
		
		.modal {
		  display: none;
		  position: fixed;
		  z-index: 2;
		  
		  left: 0;
		  top: 0;
		  width: 100%;
		  height: 100%;
		  overflow: auto;
		  background-color: rgb(0,0,0);
		  background-color: rgba(0,0,0,0.9);
		}
		
		.modal-content {
		    position: absolute;
		    top: 50%;
		    left: 50%;
		    transform: translate(-50%, -50%);
		    display: block;
		    width: auto;
		    max-width: 800px;
		}
		
		.close {
		  position: absolute;
		  top: 15px;
		  right: 35px;
		  color: #f1f1f1;
		  font-size: 40px;
		  font-weight: bold;
		  transition: 0.3s;
		}
		
		.close:hover,
		.close:focus {
		  color: #bbb;
		  text-decoration: none;
		  cursor: pointer;
		}
		
		.card-image {
		  cursor: pointer;
		}
		
		.row{
			position: relative;
  			z-index: 1;
		}

		.notification {
			position: fixed;
			top: 20px;
			left: 50%;
			transform: translateX(-50%);
			background-color: #333;
			color: #fff;
			padding: 10px 20px;
			border-radius: 5px;
			opacity: 1;
			transition: opacity 0.5s ease;
			z-index: 9999; /* Đảm bảo thông báo hiển thị trên cùng */
			width: auto; /* Đảm bảo thông báo co dãn tự động theo nội dung */
			white-space: nowrap; /* Ngăn chặn trường hợp nội dung quá dài bị ngắt dòng */
		}

		.material-symbols-outlined.shopping-bag {
			color: grey;
		}

		.material-symbols-outlined.shopping-bag:hover {
			color: rgb(2,88,155);
		}

		.alert-success {
			color: rgb(91,181,111);
		}
		.alert-danger {
			color: rgb(247,80,80);
		}

	</style>
</head>
<body>
	<div id="myModal" class="modal"> 
	  <span class="close" id="closeBtn">&times;</span>
	  <img class="modal-content" id="img01">
	</div>
	<div th:replace="~{layout/header :: header}"></div>
	<!-- Hiển thị thông báo nếu có -->
	<div th:if="${message}" class="alert"
		 th:classappend="${message.contains('thành công') ? 'alert-success' : 'alert-danger'}"
		 th:text="${message}" style="font-weight: bold;justify-content: center; display: flex">
	</div>
		<div class="container-img d-flex align-items-center justify-content-center" style="background-color: #5591c5; width: %100; ">
			<div class="row-10 d-flex align-items-center justify-content-center" style="width: 1200px;">
				<img src="https://res.cloudinary.com/dylwewmt0/image/upload/v1703185580/PHOTO_LIST/Index/background_01.png"
					 style="width:100%; display: flex; align-items: center; justify-content: center">
			</div>
		</div>	
		<div class="container-main d-flex align-items-center justify-content-center" style="background-color: #f0f0f0; width: 100%; padding: 0px">
			<div class="container-inner d-flex align-items-center justify-content-center" style="width: 1200px; background-color: white;">
			    
			   				
				<div class="container-content d-flex align-items-center justify-content-center" style="width: 1200px; background-color: white;">
					<div class="col-left sidebar col-lg-3 col-md-3 col-sm-12 col-xs-12" style="border-right: 1px solid #cecece; width: 280px;" >
						<div class="row row-content" >
								<a class="nav-link" th:href="@{/viewbooks}" style="margin-left: 10px; font-size: 14px;">TẤT CẢ SÁCH</a>
							<li class="dropdown open" style="border-bottom: 1px solid #cecece;  border-top: 1px solid #cecece; margin-top: 15px; width: 280px;"> 
								<div style="padding: 8px;"></div>
																
								<span style="color: rgb(2,88,155);"></span>
								<ul class="no-bullets nav-left" style="padding: 0px 0px 0px 20px;">
									<h4>DANH MỤC SÁCH <span class="material-symbols-outlined click">drag_click</span></h4>
									<li class="level-0">
										<input type="radio" id="category1" onclick="document.getElementById('link1').click();">
										<a id="link1" th:href="@{/viewbooks(category=1, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">Chính Trị - Pháp Luật</a>
									</li>
									<li class="level-0">
										<input type="radio" id="category2" onclick="document.getElementById('link2').click();">
										<a id="link2" th:href="@{/viewbooks(category=2, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">Giáo Trình</a>
									</li>
									<li class="level-0">
										<input type="radio" id="category3" onclick="document.getElementById('link3').click();">
										<a id="link3" th:href="@{/viewbooks(category=3, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">Khoa Học Công Nghệ - Kinh Tế</a>
									</li>
									<li class="level-0">
										<input type="radio" id="category4" onclick="document.getElementById('link4').click();">
										<a id="link4" th:href="@{/viewbooks(category=4, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">Truyện, Tiểu Thuyết</a>
									</li>
									<li class="level-0">
										<input type="radio" id="category5" onclick="document.getElementById('link5').click();">
										<a id="link5" th:href="@{/viewbooks(category=5, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">Tâm Lý, Tâm Linh, Tôn Giáo</a>
									</li>	
									<li class="level-0">
										<input type="radio" id="category6" onclick="document.getElementById('link6').click();">
										<a id="link6" th:href="@{/viewbooks(category=6, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">Thiếu Nhi</a>
									</li>
									<li class="level-0">
										<input type="radio" id="category7" onclick="document.getElementById('link7').click();">
										<a id="link7" th:href="@{/viewbooks(category=7, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">Văn Học Nghệ Thuật</a>
									</li>
									<li class="level-0">
										<input type="radio" id="category8" onclick="document.getElementById('link8').click();">
										<a id="link8" th:href="@{/viewbooks(category=8, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">Văn Hóa Xã Hội - Lịch Sử</a>
									</li>								
								</ul>
							</li>
							<li class="dropdown open" style="border-bottom: 1px solid #cecece; margin-top: 15px; width: 280px;"> 
																
								<span style="color: rgb(2,88,155);"></span>
								<ul class="no-bullets nav-left" style="padding: 0px 0px 0px 20px;">
									<h4>THEO NXB<span class="material-symbols-outlined click" style="margin-left: 7px;">drag_click</span></h4>
									<li class="level-0">
										<input type="radio" id="publisher1" onclick="document.getElementById('linkNXB1').click();">
											<a id="linkNXB1" th:href="@{/viewbooks(category=${categoryId}, publisher=1, nameoption=${nameoption}, priceoption=${priceoption}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">NXB Kim Đồng</a>
									</li>
									<li class="level-0">
										<input type="radio" id="publisher2" onclick="document.getElementById('linkNXB2').click();">
											<a id="linkNXB2" th:href="@{/viewbooks(category=${categoryId}, publisher=2, nameoption=${nameoption}, priceoption=${priceoption}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">NXB Lao Động</a>
									</li>
									<li class="level-0">
										<input type="radio" id="publisher3" onclick="document.getElementById('linkNXB3').click();">
											<a id="linkNXB3" th:href="@{/viewbooks(category=${categoryId}, publisher=3, nameoption=${nameoption}, priceoption=${priceoption}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">NXB Thể Giới</a>
									</li>
									<li class="level-0">
										<input type="radio" id="publisher4" onclick="document.getElementById('linkNXB4').click();">
											<a id="linkNXB4" th:href="@{/viewbooks(category=${categoryId}, publisher=4, nameoption=${nameoption}, priceoption=${priceoption}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">NXB Trẻ</a>
									</li>
									<li class="level-0">
										<input type="radio" id="publisher5" onclick="document.getElementById('linkNXB5').click();">
											<a id="linkNXB5" th:href="@{/viewbooks(category=${categoryId}, publisher=5, nameoption=${nameoption}, priceoption=${priceoption}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">NXB Thanh Niên</a>
									</li>
									<li class="level-0">
										<input type="radio" id="publisher6" onclick="document.getElementById('linkNXB6').click();"> 
											<a id="linkNXB6" th:href="@{/viewbooks(category=${categoryId}, publisher=6, nameoption=${nameoption}, priceoption=${priceoption}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">NXB Hồng Đức</a>
									</li>	
									<li class="level-0">
										<input type="radio" id="publisher7" onclick="document.getElementById('linkNXB7').click();">
											<a id="linkNXB7" th:href="@{/viewbooks(category=${categoryId}, publisher=7, nameoption=${nameoption}, priceoption=${priceoption}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">NXB Chính Trị Quốc Gia</a>
									</li>	
									<li class="level-0">
										<input type="radio" id="publisher8" onclick="document.getElementById('linkNXB8').click();">
											<a id="linkNXB8" th:href="@{/viewbooks(category=${categoryId}, publisher=8, nameoption=${nameoption}, priceoption=${priceoption}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">NXB Văn Học</a>
									</li>
									<li class="level-0">
										<input type="radio" id="publisher9" onclick="document.getElementById('linkNXB9').click();">
											<a id="linkNXB9" th:href="@{/viewbooks(category=${categoryId}, publisher=9, nameoption=${nameoption}, priceoption=${priceoption}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">NXB Hội Nhà Văn</a>
									</li>	
									<li class="level-0">
										<input type="radio" id="publisher10" onclick="document.getElementById('linkNXB10').click();">
											<a id="linkNXB10" th:href="@{/viewbooks(category=${categoryId}, publisher=10, nameoption=${nameoption}, priceoption=${priceoption}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">NXB Dân Trí</a>
									</li>							
								</ul>
							</li>
							<li class="dropdown open" style="border-bottom: 1px solid #cecece; width: 280px;"> 
								<div style="padding: 8px;"></div>
																
								<span style="color: rgb(2,88,155);"></span>
								<ul class="no-bullets nav-left" style="padding: 0px 0px 0px 20px;">
									<h4>KHOẢNG GIÁ <span class="material-symbols-outlined click">drag_click</span></h4>
									<li class="level-0">
										<input type="radio" id="pricerange0" onclick="document.getElementById('linkprice0').click();">
										<a id="linkprice0" th:href="@{/viewbooks(category=${categoryId}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=0, pricemax=50000, page=1)}">0 - 50.000</a>
									</li>
									<li class="level-0">
										<input type="radio" id="pricerange1" onclick="document.getElementById('linkprice1').click();">
										<a id="linkprice1" th:href="@{/viewbooks(category=${categoryId}, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=50000, pricemax=100000, page=1)}">50.000 - 100.000</a>
									</li>
									<li class="level-0">
										<input type="radio" id="pricerange2" onclick="document.getElementById('linkprice2').click();">
										<a id="linkprice2" th:href="@{/viewbooks(category=${categoryId}, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=100000, pricemax=200000, page=1)}">100.000 - 200.000</a>
									</li>
									<li class="level-0">
										<input type="radio" id="pricerange3" onclick="document.getElementById('linkprice3').click();">
										<a id="linkprice3" th:href="@{/viewbooks(category=${categoryId}, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=200000, pricemax=300000, page=1)}">200.000 - 300.000</a>
									</li>		
									<li class="level-0">
										<input type="radio" id="pricerange4" onclick="document.getElementById('linkprice4').click();">
										<a id="linkprice4" th:href="@{/viewbooks(category=${categoryId}, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=300000, pricemax=500000, page=1)}">300.000 - 500.000</a>
									</li>	
									<li class="level-0">
										<input type="radio" id="pricerange5" onclick="document.getElementById('linkprice5').click();">
										<a id="linkprice5" th:href="@{/viewbooks(category=${categoryId}, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=500000, pricemax=10000000, page=1)}">500.000 trở lên</a>
									</li>				
								</ul>
							</li>
							<li class="dropdown open" style="border-bottom: 1px solid #cecece; width: 280px;"> 
								<div style="padding: 8px;"></div>
																
								<span style="color: rgb(2,88,155);"></span>
								<ul class="no-bullets nav-left" style="padding: 0px 0px 0px 20px;">
									<!-- Nếu đã có priceoption thì phải bỏ nameoption và ngược lại -->
									<h4>SẮP XẾP THEO<span class="material-symbols-outlined click" style="margin-left: 7px;">drag_click</span></h4>
									<li class="level-0">
										<input type="radio" id="priceoption1" onclick="document.getElementById('linkpriceasc').click();">
										<a id="linkpriceasc" th:href="@{/viewbooks(category=${categoryId}, publisher=${publisher}, priceoption=12, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">Giá tăng dần</a>
									</li>
									<li class="level-0">
										<input type="radio" id="priceoption2" onclick="document.getElementById('linkpricedes').click();">
										<a id="linkpricedes" th:href="@{/viewbooks(category=${categoryId}, publisher=${publisher}, priceoption=21, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">Giá giảm dần</a>
									</li>
									<li class="level-0">
										<input type="radio" id="nameoption1" onclick="document.getElementById('linkpricea-z').click();"> 
										<a id="linkpricea-z" th:href="@{/viewbooks(category=${categoryId}, publisher=${publisher}, nameoption=12, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">Tên tăng dần</a>
									</li>
									<li class="level-0">
										<input type="radio" id="nameoption2" onclick="document.getElementById('linkpricz-a').click();">
										<a id="linkpricz-a" th:href="@{/viewbooks(category=${categoryId}, publisher=${publisher}, nameoption=21, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=1)}">Tên giảm dần</a>
									</li>
								</ul>
								
							</li>
										
						</div>
					</div>
					
					<div class="col-main col-lg-9 col-md-9 col-sm-12 col-xs-12 col-fhs-main-body" style="margin-left: 25px;">
						
						<!--Ô nhập tìm kiếm và nhấn tìm kiếm-->
<!--					    <div style="display: flex; justify-content: center;">-->
<!--							<form class="form-inline my-2 my-lg-0" th:action="@{/viewbooks}" method="GET" style="display: flex;">-->
<!--								<input class="form-control mr-sm-2" type="text" name="search" placeholder="Tìm kiếm từ khóa" style="width: 88.5%;">-->
<!--								-->
<!--								<button class="btn btn-outline my-2 my-sm-2" type="submit" style="width: 10%;">-->
<!--									<span class="material-symbols-outlined search">search</span></button>-->
<!--							</form>-->
<!--						</div>-->
																	
						<!--Tìm kiếm từ khóa-->
						<div th:if="${param.search != null && !param.search.isEmpty()}">
							
						</div>
						
						<div class="category-products row">
							<div id="carouselExampleControls" class="carousel slide d-flex" data-ride="carousel" data-interval="3000" data-pause="false">
						        <div class="carousel-inner">
						            <div class="carousel-item active justify-content-center align-items-center">
						                <img src="https://res.cloudinary.com/dylwewmt0/image/upload/v1698856277/PHOTO_LIST/Index/book_01.jpg" class="d-block mx-auto" alt="...">
						            </div>
						            <div class="carousel-item justify-content-center align-items-center">
						                <img src="https://res.cloudinary.com/dylwewmt0/image/upload/v1698856507/PHOTO_LIST/Index/book_02.jpg" class="d-block mx-auto" alt="...">
						            </div>
						            <div class="carousel-item justify-content-center align-items-center">
						                <img src="https://res.cloudinary.com/dylwewmt0/image/upload/v1698856959/PHOTO_LIST/Index/book_03.jpg" class="d-block mx-auto" alt="...">
						            </div>
						            <!-- Thêm các mục carousel-item khác tương tự -->
						        </div>
						        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
						            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
						            <span class="sr-only">Previous</span>
						        </a>
						        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
						            <span class="carousel-control-next-icon" aria-hidden="true"></span>
						            <span class="sr-only">Next</span>
						        </a>
			    			</div>
							<div class="frame main">
								
								<!--Ảnh giới thiệu sản phẩm-->
								<div class="row row-image-intro" style="border-bottom: 1px solid #cecece; margin-top: 10px; margin-bottom: 40px; padding-bottom: 30px; padding-top: 10px;" >
									<div class="col-image">
										<img id="myImg1" class="card-image" src="https://res.cloudinary.com/dylwewmt0/image/upload/v1703864343/PHOTO_LIST/view_books/Intro_10.png" alt>
									</div>
									<div class="col-image">
										<img  id="myImg2" class="card-image" src="https://res.cloudinary.com/dylwewmt0/image/upload/v1703864343/PHOTO_LIST/view_books/Intro_11.png" alt>
									</div>
									<div class="col-image">
										<img  id="myImg3" class="card-image" src="https://res.cloudinary.com/dylwewmt0/image/upload/v1703864342/PHOTO_LIST/view_books/Intro_12.png" alt>
									</div>																			
								</div>
								
							    <div class="dropdown mb-3 mt-3">
							    </div>
							    
								<div class="row">
								    <th:block th:each="book : ${books}">
								        <div class="col-md-3 flex-item">
											<div class="item-inner">
												<div class="ma-box-content">								
										            <div class="products clear" style="display: flex; justify-content: center; align-items: center;">
										                <div class="product images-container">
															<a th:href="@{/detailbook/{id} (id=${book.id})}">
											                    <!-- Chỉ hiển thị hình ảnh đầu tiên -->
											                	<img th:src="${book.bookImages[0].path}" alt="Book Image" class="card-img">
															</a>
										                </div>
										            </div>
										            <div>
										                <h6 class="product-name-no-ellipsis">
									            			<a th:href="@{/detailbook/{id} (id=${book.id})}" th:text="${book.name}" style="display: inline-block; width: 170px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"></a>
										                </h6>

														<div class="row-price-cart d-flex align-items-center justify-content-between">
															<div class="price-label">
																<p class="card-text" style="font-size: 16px; text-align: left;"><span th:text="${#numbers.formatInteger(book.sellPrice, 0, 'POINT')}" ></span> đ</p>
															</div>
															<!-- Thêm form thêm vào giỏ hàng tại đây -->
															<form th:action="@{/addtocartfromallbooks}" method="post" style="display: flex; justify-content: center; align-items: center;">
																<input type="hidden" name="bookId" th:value="${book.id}">
																<input type="hidden" name="quantity" value="1">
																<button type="submit" class="btn btn-add-cart btn-block" style="padding: 0px">
																	<i class="material-symbols-outlined shopping-bag">shopping_bag</i>
																</button>
															</form>
														</div>
										            </div>
												</div>
											</div>
								        </div>
								    </th:block>
								</div>
	
							    <div class="frame-number">
								    <div th:if="${totalPages > 1}">
								        <ul class="pagination">
											<div class="row">
									            <li th:if="${currentPage > 1}" class="page-item">
									                <a class="page-link" th:href="@{/viewbooks(category=${categoryId}, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=${currentPage - 1})}">
														<span class="material-symbols-outlined">navigate_before</span>
													</a>
									            </li>
									
									            <th:block th:each="pageNumber : ${#numbers.sequence(1, totalPages)}">
									                <li class="page-item" th:classappend="${pageNumber == currentPage ? 'active' : ''}">
									                    <th:block th:if="${pageNumber == currentPage}">
									                        <span class="page-link" th:text="${pageNumber}"></span>
									                    </th:block>
									                    <th:block th:unless="${pageNumber == currentPage}">
									                        <a class="page-link" th:href="@{/viewbooks(category=${categoryId}, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=${pageNumber})}" th:text="${pageNumber}"></a>
									                    </th:block>
									               <!---->
									            </th:block>
									
									            <li th:if="${currentPage < totalPages}" class="page-item">
									                <a class="page-link" th:href="@{/viewbooks(category=${categoryId}, publisher=${publisher}, nameoption=${nameoption}, priceoption=${priceoption}, search=${search}, pricemin=${pricemin}, pricemax=${pricemax}, page=${currentPage + 1})}">
														<span class="material-symbols-outlined">navigate_next</span>
													</a>
									            </li>
											</div>
								        </ul>
								    </div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
	</div>
	
	
	<div th:replace="~{layout/footer :: footer}"></div>
	<!-- Thêm các tệp tin JavaScript -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> <!-- Để xài ajax -->
	<script>
		var modal = document.getElementById("myModal");
		var modalImg = document.getElementById("img01");
		var img1 = document.getElementById("myImg1");
		var img2 = document.getElementById("myImg2");
		var img3 = document.getElementById("myImg3");
		var closeBtn = document.getElementById("closeBtn");

		img1.onclick = function(){
		  modal.style.display = "block";
		  modalImg.src = this.src;
		}

		img2.onclick = function(){
		  modal.style.display = "block";
		  modalImg.src = this.src;
		}

		img3.onclick = function(){
		  modal.style.display = "block";
		  modalImg.src = this.src;
		}

		closeBtn.onclick = function() {
		  modal.style.display = "none";
		}

		// hàm để tạo và hiển thị thông báo
		function showNotification(message) {
			var notification = document.createElement('div');
			notification.textContent = message;
			notification.className = 'notification';
			document.body.appendChild(notification);

			setTimeout(function() {
				notification.style.opacity = '0';
				setTimeout(function() {
					notification.remove();
					adjustNotificationPositions(); // Điều chỉnh vị trí của các thông báo còn lại sau khi xóa thông báo đã ẩn đi
				}, 1000);
			}, 3000);

			adjustNotificationPositions(); // Điều chỉnh vị trí của tất cả các thông báo
		}

		function adjustNotificationPositions() {
			var notifications = document.querySelectorAll('.notification');
			var topOffset = 100; // Vị trí mặc định cho thông báo đầu tiên
			for (var i = notifications.length - 1; i >= 0; i--) {
				notifications[i].style.top = topOffset + 'px';
				topOffset += notifications[i].offsetHeight + 10; // Khoảng cách giữa các thông báo
			}
		}

		// Xử lý nút add to cart
		document.querySelectorAll('form').forEach(function(form) {
			form.addEventListener('submit', function(event) {
				event.preventDefault();

				var bookId = this.querySelector('input[name="bookId"]').value;

				var xhr = new XMLHttpRequest();
				xhr.open('POST', '/webbookstore/addtocartfromallbooks', true);
				xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
				xhr.onload = function() {
					if (xhr.status === 200) {
						// Hiển thị thông báo thành công
						showNotification(xhr.responseText);
					} else {
						// Hiển thị thông báo lỗi
						var errorMessage = xhr.responseText || 'Đã có lỗi xảy ra. Vui lòng thử lại sau.';
						showNotification(errorMessage);
					}
				};
				xhr.send('bookId=' + bookId + '&quantity=1');
			});
		});

	</script>
	<script th:src="@{/js/popper.min.js}"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>
	
</body>
</html>

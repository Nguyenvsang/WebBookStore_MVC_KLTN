<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Th√¥ng tin s√°ch</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
   	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <style>
		
		body { background-color: #f8f9fa  }
		
		h3 {
        	text-align: center;
        	margin-top: 0px;
        	margin-bottom: 20px;  
        	color: rgb(2,88,155);     	
    	}
    	h5 {
			margin-left: 20px;
		}
    	.frame-01 {
			border: 1px solid rgb(182,232,241);
    		border-radius: 20px
		}
		
		.frame-01 {
			box-shadow: 0 8px 10px rgb(226, 226, 226);
			border: solid 2px rgb(226, 226, 226);
		}
		
		.frame-02 {
			margin-top: 20px;
			margin-bottom: 20px;
			margin-left: 20px;
			margin-right: 0px;
			border: 1px solid rgb(255, 255, 255);
			
		}
		.btn-add-cart {
			border-radius: 10px;
			color: black;
			background-color: white;
			border: 2px solid rgb(2,88,155);			
		}
		.btn-add-cart:hover {
			color:rgb(2,88,155); /* Thay ƒë·ªïi m√†u vƒÉn b·∫£n khi tr·ªè chu·ªôt v√†o n√∫t */
			background-color: azure;
		} 
		
		.btn-back {
			border-radius: 10px;
			color: white;
		}
		.btn-back:hover {
			color: rgb(182,232,241)
		}
		
		.flex-grow-2 {
			display: flex;
		    justify-content: right;
		    align-items: center;
		    margin-top: 30px;
		}
		.frame-description {
			
    		border-radius: 20px;
    		margin-top: 20px;
    		background-color: white;
		}
		.frame-description {
			box-shadow: 0 8px 10px rgb(226, 226, 226);
			
		}
		.frame-description:hover {
			background-color:azure
		}
		
		
		.frame-description-01 {
			margin-bottom: 20px;			
		}
		
		.card-title {
    		border-radius: 20px
		}
		
		p.card-text.text-description {
			font-size: 20px;
			color: rgb(2,88,155);
		}
		.ml-2 {
			display: flex;
		    justify-content: right;
		    margin-right: 15px;
		}
		
		.container.main {
			border: 2px ;
	        border-radius: 5px;	  
	        border-radius: 15px;	
	        padding: 15px;
	        margin-top: 10px;
	        margin-bottom: 10px;
		}
		.navbar-nav {
			display: frex;
		}
		.navbar-nav-left {
			width: 70%;
		}
		.navbar-nav-right {
			width: 30%;
		}
		.nav-link {
			display: flex;
      		align-items: center;
      		column-gap: 0.5rem;
      		width: fit-content;
		}
		.move-right {
			margin-left: auto;
			display: flex;
			float: right;
		}
		.material-symbols-outlined{
			color: rgb(2,88,155);
		}
		
		.row.one {
			margin-top: 10px;
			margin-bottom: 10px;
		}
		
		.row.two {
			margin-top: 10px;
			margin-bottom: 10px;
		}
		.row.third {
			margin-top: 10px;
			margin-bottom: 10px;
		}
		.row.four {
			margin-top: 10px;
			margin-bottom: 10px;
		}
		
		.frame-description-01 {
			margin: 20px;
		}
		
		.material-symbols-outlined.back {
			color: rgb(2,88,155);
		}
		
		.material-symbols-outlined.back:hover {
			color: rgb(182,232,241);
		}

		.rating {
		  unicode-bidi: bidi-override;
		  direction: rtl;
		  text-align: center;
		}
		.rating > input {
		  display: none;
		}
		.rating > label {
		  display: inline-block;
		  font-size: 30px;
		  color: #ccc;
		  cursor: pointer;
		}
		.rating > input:checked ~ label,
		.rating > label:hover,
		.rating > label:hover ~ label {
		  color: gold;
		}

		.user-review-box {
			border: 1px solid #ccc;
			border-radius: 10px;
			padding: 10px;
			margin-bottom: 20px;
		}

		.review {
			border: 1px solid #ddd;
			padding: 15px;
			margin-bottom: 20px;
			background-color: #f9f9f9;
			border-radius: 5px;
		}
		.review .user-info {
			display: flex;
			align-items: center;
		}
		.review .user-info img {
			width: 50px;
			height: 50px;
			border-radius: 50%;
			margin-right: 10px;
		}
		.review .user-info .username {
			font-weight: bold;
		}
		.review .stars, .user-review .stars {
			color: gold;
			margin-bottom: 10px;
		}
		.review .comment {
			margin-bottom: 10px;
		}
		.review .date {
			text-align: right;
			color: #888;
		}

		.like-button {
			background-color: grey; /* M√†u n·ªÅn xanh */
			border: none; /* Kh√¥ng vi·ªÅn */
			color: white; /* M√†u ch·ªØ tr·∫Øng */
			padding: 15px 32px; /* ƒê·ªám tr√™n d∆∞·ªõi 15px, tr√°i ph·∫£i 32px */
			text-align: center; /* CƒÉn gi·ªØa ch·ªØ */
			text-decoration: none; /* Kh√¥ng g·∫°ch ch√¢n */
			display: inline-block;
			font-size: 16px;
			margin: 4px 2px;
			cursor: pointer; /* Bi·∫øn ƒë·ªïi con tr·ªè khi di chu·ªôt qua n√∫t */
			border-radius: 12px; /* Bo g√≥c n√∫t */
		}

		.purchased, .published {
			color: green;
			font-weight: bold;
		}

		.not-purchased, .not-published {
			color: red;
			font-weight: bold;
		}


	</style>
	
</head>
<body>
	<div th:replace="~{layout/header :: header}"></div>
    <div class="container-fluid mb-4">
        
        <!-- Hi·ªÉn th·ªã th√¥ng b√°o n·∫øu c√≥ -->
        <div th:if="${param.message}" class="alert"
		     th:classappend="${#strings.containsIgnoreCase(param.message, 'th√†nh c√¥ng') ? 'alert-success' : 'alert-danger'}">
		    <span th:text="${param.message}"></span>
		</div>
        
        
        <div class="container main">
	        <div class="frame-01" style="background-color: white;">
				<p class="text" style="height: 40px;">
		            <a href="javascript:history.back()" class="btn btn-back" style="margin: 10px;">
						<span class="material-symbols-outlined back">arrow_back_ios</span>
					</a>
		        </p>
				<h3>TH√îNG TIN S√ÅCH</h3>
				<div class="frame-02">
		            <div class="row no-gutters">
						<div class="col-md-4">
							<div class="row">
								<div class="col-md-4">
				                    <img th:src="${book.bookImages[1].path + '?v=' + randomNumber}" alt="Book Image 1" width="90" style="margin-bottom: 10px;"><br>
				                    <img th:src="${book.bookImages[2].path + '?v=' + randomNumber}" alt="Book Image 1" width="90" style="margin-bottom: 10px;"><br>
				                    <img th:src="${book.bookImages[3].path + '?v=' + randomNumber}" alt="Book Image 1" width="90" style="margin-bottom: 10px;"><br>
				                </div>
				                <div class="col-md-8">
				                    <img th:src="${book.bookImages[0].path}" alt="Book Image" class="card-img" style="border-radius: 15px;">
				                </div>
							</div>
						</div>
		                <div class="col-md-8">
		                    <div class="card-body">
		                        <h5 class="card-title" th:text="${book.name}"></h5>
		                        <div class="row main" style="margin-right: 250px;">
									<div class="col" style="margin-left: 20px;" >
										
										<div class="row one" style="display: flex; justify-content: center; align-items: center;">
											<div class="col">
						                        <p class="card-text" style="display: flex; justify-content: left; align-items: center;">T√°c gi·∫£:</p>
											</div>
											<div class="col" style="display: flex; justify-content: left; align-items: center;">
												<span th:each="bookauthor : ${book.bookAuthors}" th:text="${bookauthor.author.name}"></span>
											</div>
										</div>
										
					                    <div class="row two" style="display: flex; justify-content: center; align-items: center;"> 
											<div class="col">
					                        	<p class="card-text" style="display: flex; justify-content: left; align-items: center;">Nh√† xu·∫•t b·∫£n: </p>
											</div>
											<div class="col" style="display: flex; justify-content: left; align-items: center;">
												<span th:text="${book.publisher}"></span>
											</div>
					                    </div>
	
					                    <div class="row third" style="display: flex; justify-content: center; align-items: center;"> 
											<div class="col">  
					                        	<p class="card-text" style="display: flex; justify-content: left; align-items: center;">S·ªë l∆∞·ª£ng: </p>
											</div>
											<div class="col" style="display: flex; justify-content: left; align-items: center;">
												<span th:text="${book.quantity}"></span>
											</div>
					                    </div>
					                    
					                    <div class="row four" style="display: flex; justify-content: center; align-items: center;">
											<div class="col">
					                        	<p class="card-text" style="display: flex; justify-content: left; align-items: center;">Danh m·ª•c:</p>
											</div>
											<div class="col" style="display: flex; justify-content: left; align-items: center;">
												 <span th:text="${book.category.name}"></span>
											</div>	
					                    </div>
					                        									
				                        	<p class="card-text" style="font-size: 30px; font-weight: bold;text-align: left; color: orangered;"><span th:text="${#numbers.formatInteger(book.sellPrice, 0, 'POINT')}" ></span> ƒë</p>
									</div>																		
		                        </div>
		                        
		                        <div class="d-flex flex-grow-2">
		                            <form th:action="@{/addtocart}" method="post">
				                                <div class="col col-number">
				                                    <div class="col col-number" style="margin-bottom: 10px; ">
				                                        <input style="border: 2px solid rgb(2,88,155);" type="number" id="quantity" name="quantity" class="form-control" min="1" th:max="${book.quantity}" value="1">
				                                    </div>				                                    
				                                </div>
						                        <div class="col-add-cart" style="margin-bottom: 20px;">				                                 
						                            <div class="col">
						                                <input type="hidden" name="bookId" th:value="${book.id}">
						                                <button type="submit" class="btn btn-add-cart btn-block">Th√™m v√†o gi·ªè h√†ng</button>
						                            </div>
						                        </div>
				                    	</form>		                            
		                        </div>
		                        <div class="ml-2">
		                        	
		                        </div>		                        		                        		                    		                        
		                    </div>
		                </div>
		            </div>
				</div>
	        </div>
        	<div class="frame-description">	
				<div class="frame-description-01" style="padding: 20px; font-family: Arial">		
			        <p class="card-text text-description">M√¥ t·∫£:</p>
				    <p class="card-text content" th:text="${book.description}" style="text-align: justify;"></p>
				</div>
	       	</div>
	       	<div class="frame-description">	
				<div class="frame-description-01" style="padding: 20px; font-family: Arial; margin: 0px;">
			       	<div class="col">
						<p class="card-text" style="color: rgb(2,88,155); font-size: 20px;">Chi ti·∫øt:</p>
				        <pre class="card-text" th:text="${book.detail}" style="font-size: 16px; font-family: Arial;"></pre>
					</div>
				</div>
	       	</div>

			<!-- Ki·ªÉm tra xem ng∆∞·ªùi d√πng ƒë√£ ƒëƒÉng nh·∫≠p hay ch∆∞a -->
			<div th:if="${session.account == null}">
				<p>Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ vi·∫øt ƒë√°nh gi√° cho cu·ªën s√°ch</p>
			</div>

			<!-- N·∫øu ng∆∞·ªùi d√πng ƒë√£ ƒëƒÉng nh·∫≠p nh∆∞ng ch∆∞a vi·∫øt ƒë√°nh gi√° -->
			<div th:if="${session.account != null and loggedInUserReview == null}">
				<!-- Button trigger modal -->
				<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#reviewModal">
					Vi·∫øt ƒë√°nh gi√°
				</button>
				<!-- Modal -->
				<div class="modal fade" id="reviewModal" tabindex="-1" role="dialog" aria-labelledby="reviewModalLabel" aria-hidden="true">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="reviewModalLabel">Vi·∫øt ƒë√°nh gi√°</h5>
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">√ó</span>
								</button>
							</div>
							<div class="modal-body">
								<!-- Th√™m thu·ªôc t√≠nh action v√† method v√†o form -->
								<form th:action="@{/addreviewbook}" method="post">
									<!-- Th√™m tr∆∞·ªùng ·∫©n ch·ª©a ID c·ªßa cu·ªën s√°ch -->
									<input type="hidden" name="bookId" th:value="${book.id}">
									<div class="form-group">
										<fieldset id="review-rating">
											<legend class="col-form-label">ƒê√°nh gi√°:</legend>
											<div class="rating">
												<input type="radio" id="star5" name="rating" value="5" required /><label for="star5" title="5 sao">‚òÜ</label>
												<input type="radio" id="star4" name="rating" value="4" /><label for="star4" title="4 sao">‚òÜ</label>
												<input type="radio" id="star3" name="rating" value="3" /><label for="star3" title="3 sao">‚òÜ</label>
												<input type="radio" id="star2" name="rating" value="2" /><label for="star2" title="2 sao">‚òÜ</label>
												<input type="radio" id="star1" name="rating" value="1" /><label for="star1" title="1 sao">‚òÜ</label>
											</div>
										</fieldset>
									</div>

									<div class="form-group">
										<label for="review-comment" class="col-form-label">B√¨nh lu·∫≠n:</label>
										<textarea class="form-control" id="review-comment" name="comment"></textarea>
									</div>
									<div class="form-check">
										<input type="checkbox" class="form-check-input" id="review-isPurchased" name="isPurchased">
										<label class="form-check-label" for="review-isPurchased">T√¥i ƒë√£ mua cu·ªën s√°ch n√†y</label>
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-secondary" data-dismiss="modal">ƒê√≥ng</button>
										<!-- Thay ƒë·ªïi type c·ªßa n√∫t L∆∞u ƒë√°nh gi√° th√†nh submit ƒë·ªÉ g·ª≠i form -->
										<button type="submit" class="btn btn-primary">L∆∞u ƒë√°nh gi√°</button>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>


			<!-- N·∫øu ng∆∞·ªùi d√πng ƒë√£ ƒëƒÉng nh·∫≠p v√† ƒë√£ vi·∫øt ƒë√°nh gi√° -->
			<div th:if="${session.account != null and loggedInUserReview != null}" class="user-review-box">
				<!-- Hi·ªÉn th·ªã ƒë√°nh gi√° c·ªßa ng∆∞·ªùi d√πng -->
				<div class="user-review">
					<h5>ƒê√°nh gi√° c·ªßa b·∫°n:</h5>
					<div class="stars" th:text="${'*'.repeat(loggedInUserReview.rating)}"></div>
					<p th:text="${loggedInUserReview.comment}"></p>
					<p class="purchased" th:if="${loggedInUserReview.isPurchased}">B·∫°n ƒë√£ mua cu·ªën s√°ch n√†y</p>
					<p class="not-purchased" th:if="${!loggedInUserReview.isPurchased}">B·∫°n ch∆∞a mua cu·ªën s√°ch n√†y</p>
					<!-- Hi·ªÉn th·ªã tr·∫°ng th√°i ƒë√°nh gi√° -->
					<p class="published" th:if="${loggedInUserReview.isPublished}">ƒê√°nh gi√° c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c ƒëƒÉng.</p>
					<p class="not-published" th:if="${!loggedInUserReview.isPublished}">ƒê√°nh gi√° c·ªßa b·∫°n ƒëang ch·ªù duy·ªát.</p>

					<!-- Button trigger modal -->
					<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#editReviewModal">
						Ch·ªânh s·ª≠a ƒë√°nh gi√°
					</button>

					<!-- Button to delete review -->
					<form id="deleteReviewForm" method="post" th:action="@{/deletereviewbook/} + ${book.id}">
						<button type="submit" class="btn btn-danger" id="deleteReviewButton">X√≥a ƒë√°nh gi√°</button>
					</form>

					<!-- Modal -->
					<div class="modal fade" id="editReviewModal" tabindex="-1" role="dialog" aria-labelledby="editReviewModalLabel" aria-hidden="true">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="editReviewModalLabel">Ch·ªânh s·ª≠a ƒë√°nh gi√°</h5>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
										<span aria-hidden="true">√ó</span>
									</button>
								</div>
								<div class="modal-body">
									<!-- Th√™m thu·ªôc t√≠nh action v√† method v√†o form -->
									<form th:action="@{/editreviewbook}" method="post">
										<!-- Th√™m tr∆∞·ªùng ·∫©n ch·ª©a ID c·ªßa cu·ªën s√°ch -->
										<input type="hidden" name="bookId" th:value="${book.id}">
										<div class="form-group">
											<fieldset id="edit-review-rating">
												<legend class="col-form-label">ƒê√°nh gi√°:</legend>
												<div class="rating">
													<input type="radio" id="edit-star5" name="rating" value="5" th:checked="${loggedInUserReview.rating == 5}" required /><label for="edit-star5" title="5 sao">‚òÜ</label>
													<input type="radio" id="edit-star4" name="rating" value="4" th:checked="${loggedInUserReview.rating == 4}" /><label for="edit-star4" title="4 sao">‚òÜ</label>
													<input type="radio" id="edit-star3" name="rating" value="3" th:checked="${loggedInUserReview.rating == 3}" /><label for="edit-star3" title="3 sao">‚òÜ</label>
													<input type="radio" id="edit-star2" name="rating" value="2" th:checked="${loggedInUserReview.rating == 2}" /><label for="edit-star2" title="2 sao">‚òÜ</label>
													<input type="radio" id="edit-star1" name="rating" value="1" th:checked="${loggedInUserReview.rating == 1}" /><label for="edit-star1" title="1 sao">‚òÜ</label>
												</div>
											</fieldset>
										</div>

										<div class="form-group">
											<label for="edit-review-comment" class="col-form-label">B√¨nh lu·∫≠n:</label>
											<textarea class="form-control" id="edit-review-comment" name="comment" th:text="${loggedInUserReview.comment}"></textarea>
										</div>
										<div class="form-check">
											<input type="checkbox" class="form-check-input" id="edit-review-isPurchased" name="isPurchased" th:checked="${loggedInUserReview.isPurchased}">
											<label class="form-check-label" for="edit-review-isPurchased">T√¥i ƒë√£ mua cu·ªën s√°ch n√†y</label>
										</div>
										<div class="modal-footer">
											<button type="button" class="btn btn-secondary" data-dismiss="modal">ƒê√≥ng</button>
											<!-- Thay ƒë·ªïi type c·ªßa n√∫t L∆∞u ƒë√°nh gi√° th√†nh submit ƒë·ªÉ g·ª≠i form -->
											<button type="submit" class="btn btn-primary">L∆∞u ƒë√°nh gi√°</button>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>


			<!-- Hi·ªÉn th·ªã danh s√°ch c√°c ƒë√°nh gi√° -->
			<div th:each="review : ${bookReviews}">
				<div class="review">
					<!-- Hi·ªÉn th·ªã th√¥ng tin ng∆∞·ªùi d√πng ƒë√£ vi·∫øt ƒë√°nh gi√° -->
					<div class="user-info">
						<img th:src="${review.account.img}" alt="User avatar">
						<div class="username" th:text="${review.account.username}"></div>
					</div>
					<!-- Hi·ªÉn th·ªã s·ªë sao ƒë√°nh gi√° -->
					<div class="stars" th:text="${'*'.repeat(review.rating)}"></div>
					<!-- Hi·ªÉn th·ªã n·ªôi dung ƒë√°nh gi√° -->
					<div class="comment" th:text="${review.comment}"></div>
					<p class="purchased" th:if="${review.isPurchased}">Ng∆∞·ªùi d√πng n√†y ƒë√£ mua cu·ªën s√°ch</p>
					<p class="not-purchased" th:if="${!review.isPurchased}">Ng∆∞·ªùi d√πng n√†y ch∆∞a mua cu·ªën s√°ch</p>
					<!-- Hi·ªÉn th·ªã ng√†y ƒë√°nh gi√° -->
					<small class="date" th:text="${#temporals.format(review.datePosted.toLocalDateTime(), 'dd-MM-yyyy')}"></small>
					<!-- Hi·ªÉn th·ªã n√∫t Th√≠ch v√† s·ªë l∆∞·ª£ng th√≠ch -->
					<button class="like-button" th:text="${likedReviews.contains(review) ? 'üëç ƒê√£ th√≠ch' : 'üëç Th√≠ch'}" th:data-book-review-id="${review.id}">
						üëç Th√≠ch
					</button>
					<span class="like-count" th:text="'(' + ${review.bookReviewLikes.size()} + ')'"></span>
				</div>
			</div>

		</div>
    </div>

	<script th:src="@{/js/jquery-3.4.1.min.js}"></script>
	<script th:src="@{/js/popper.min.js}"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>
    <script>
        function goBack() {
            window.history.back();
        }

		// Khi t√†i li·ªáu HTML ƒë√£ s·∫µn s√†ng
		$(document).ready(function(){
			// Khi ng∆∞·ªùi d√πng nh·∫•p v√†o m·ªôt ng√¥i sao
			$('.rating input').on('click', function(){
				// L·∫•y gi√° tr·ªã c·ªßa ng√¥i sao ƒë√£ ƒë∆∞·ª£c nh·∫•p
				var rating = $(this).val();
				// Hi·ªÉn th·ªã gi√° tr·ªã ƒë√°nh gi√° trong console (b·∫°n c√≥ th·ªÉ x√≥a d√≤ng n√†y sau khi ki·ªÉm tra)
				console.log('Rating:', rating);
			});
		});

		$(document).ready(function() {
			// Khi ng∆∞·ªùi d√πng nh·∫•p v√†o n√∫t Th√≠ch
			$('.like-button').on('click', function() {
				// L·∫•y id c·ªßa ƒë√°nh gi√°
				var reviewId = $(this).data('book-review-id');

				// L∆∞u tr·ªØ tham chi·∫øu ƒë·∫øn n√∫t v√† s·ªë l∆∞·ª£ng th√≠ch
				var button = $(this);
				var likeCount = $(this).next('.like-count');

				// T·∫°o m·ªôt ƒë·ªëi t∆∞·ª£ng XMLHttpRequest
				var xhr = new XMLHttpRequest();

				// Thi·∫øt l·∫≠p y√™u c·∫ßu POST ƒë·∫øn URL '/webbookstore/likebookreview'
				xhr.open('POST', '/webbookstore/likebookreview', true);

				// Thi·∫øt l·∫≠p ki·ªÉu n·ªôi dung c·ªßa y√™u c·∫ßu l√† 'application/x-www-form-urlencoded'
				xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

				// X·ª≠ l√Ω s·ª± ki·ªán 'load' khi y√™u c·∫ßu ho√†n t·∫•t
				xhr.onload = function() {
					var data = xhr.responseText;
					if (data.startsWith('/')) {
						// N·∫øu ph·∫£n h·ªìi b·∫Øt ƒë·∫ßu b·∫±ng '/', gi·∫£ ƒë·ªãnh n√≥ l√† URL v√† chuy·ªÉn h∆∞·ªõng ng∆∞·ªùi d√πng
						window.location.href = data;
					} else if (data === 'liked') {
						button.text('üëç ƒê√£ th√≠ch');
						button.css('background-color', 'blue');

						// TƒÉng s·ªë l∆∞·ª£ng th√≠ch l√™n 1
						var count = parseInt(likeCount.text().slice(1, -1));
						likeCount.text('(' + (count + 1) + ')');
					} else if (data === 'unliked') {
						button.text('üëç Th√≠ch');
						button.css('background-color', 'grey');

						// Gi·∫£m s·ªë l∆∞·ª£ng th√≠ch ƒëi 1
						var count = parseInt(likeCount.text().slice(1, -1));
						likeCount.text('(' + (count - 1) + ')');
					}
				};

				// G·ª≠i y√™u c·∫ßu v·ªõi d·ªØ li·ªáu
				xhr.send('reviewId=' + reviewId);
			});
		});


	</script>
    
<div th:replace="~{layout/footer :: footer}"></div>
<!-- Th√™m c√°c t·ªáp tin JavaScript -->

</body>
</html>
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lý do trả hàng</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

    <!--Thêm đoạn javascript bên dưới để có thể thực hiện dropdown Account	?\\-->
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <style>

        body { background-color: #f8f9fa  }

        h3 {
            text-align: center;
            margin-top: 10px;
            margin-bottom: 20px;
            color: rgb(2,88,155);
        }
        .form-container {

            border-radius: 5px;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            margin-bottom: 20px;
            margin-left: 100px;
            margin-right: 100px;
        }
        .btn-cancle {
            border: 2px solid rgb(241,56,71);
            color: rgb(0, 0, 0);
            border-radius: 10px;
        }
        .btn-cancle:hover {
            color: rgb(255, 0, 0);
        }

        .btn-order {
            background-color: #3448c5;
			border-radius: 50px;
			color: white;
			width: 200px;
			box-shadow: 0px 4px 6px rgba(0, 0.4, 0, 0.2);
        }
        .btn-order:hover {
            background-color: #211f7f;
			color: white;
			box-shadow: 0px 6px 8px rgba(0, 0.4, 0, 0.2);
        }

        .frame {
            background-color: rgb(182,232,241);
            border-radius: 10px;
            height: 50px;
            margin-top: 20px;
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .text-total {
            text-align: center;
        }
        .navbar-nav {
            display: frex;
        }
        .navbar-nav-left {
            width: 70%;
        }
        .navbar-nav-right {
            width: 30%;
        }
        .nav-link {
            display: flex;
              align-items: center;
              column-gap: 0.5rem;
              width: fit-content;
        }
        .move-right {
            margin-left: auto;
            display: flex;
            float: right;
        }

        .material-symbols-outlined.back {
			color: rgb(2,88,155);
		}

		.material-symbols-outlined.back:hover {
			color: rgb(182,232,241);
		}

        .form-container {
            box-shadow: 0 8px 10px rgb(226, 226, 226);

        }

        .form-check {
            margin: 5px 0px;
            align-items: center;
            display: flex;
        }

        #reason0 {
            width: 10px;
            height: 10px;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            border-radius: 50%;
            box-shadow: 0 0 0 1px #5591c5;
            margin-right: 5px;
        }

        #reason0:checked {
            box-shadow: 0 0 0 1px #d7ebff, 0 0 0 4px #d7ebff;
        }

        #reason1 {
            width: 10px;
            height: 10px;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            border-radius: 50%;
            box-shadow: 0 0 0 1px #5591c5;
            margin-right: 5px;
        }

        #reason1:checked {
            box-shadow: 0 0 0 1px #d7ebff, 0 0 0 4px #d7ebff;
        }

        #reason2 {
            width: 10px;
            height: 10px;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            border-radius: 50%;
            box-shadow: 0 0 0 1px #5591c5;
            margin-right: 5px;
        }

        #reason2:checked {
            box-shadow: 0 0 0 1px #d7ebff, 0 0 0 4px #d7ebff;
        }

        #reason3 {
            width: 10px;
            height: 10px;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            border-radius: 50%;
            box-shadow: 0 0 0 1px #5591c5;
            margin-right: 5px;
        }

        #reason3:checked {
            box-shadow: 0 0 0 1px #d7ebff, 0 0 0 4px #d7ebff;
        }

        #reason4 {
            width: 10px;
            height: 10px;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            border-radius: 50%;
            box-shadow: 0 0 0 1px #5591c5;
            margin-right: 5px;
        }

        #reason4:checked {
            box-shadow: 0 0 0 1px #d7ebff, 0 0 0 4px #d7ebff;
        }


        #reason5 {
            width: 10px;
            height: 10px;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            border-radius: 50%;
            box-shadow: 0 0 0 1px #5591c5;
            margin-right: 5px;
        }

        #reason5:checked {
            box-shadow: 0 0 0 1px #d7ebff, 0 0 0 4px #d7ebff;
        }

        #reason6 {
            width: 10px;
            height: 10px;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            border-radius: 50%;
            box-shadow: 0 0 0 1px #5591c5;
            margin-right: 5px;
        }

        #reason6:checked {
            box-shadow: 0 0 0 1px #d7ebff, 0 0 0 4px #d7ebff;
        }

        .video-container {
            border: 1px solid #cecece;
            border-radius: 15px;
            box-shadow: 0px 4px 6px rgba(0, 0.4, 0, 0.2);
            padding: 20px;
            margin-bottom: 20px;
        }
        .video-container2 {
            border: 1px solid #cecece;
            border-radius: 15px;
            box-shadow: 0px 4px 6px rgba(0, 0.4, 0, 0.2);
            padding: 20px;
            margin-bottom: 20px;
        }
        .form-control-file {
            border: 1px solid #cecece;
            border-radius: 50px;

        }


        .form-group.row {
			width: 100% ;
			margin: 0px;
			margin-top: 10px;
		}

        .col-info {
			width: 833px;
		}

    </style>
    <script>
        var checkFileSizeImg1 = function(event) {
            var file = event.target.files[0];
            if(file.size > 10 * 1024 * 1024) { // 10MB
                alert("File ảnh 1 quá lớn! Vui lòng chọn file ảnh nhỏ hơn 10MB.");
                event.target.value = ""; // reset the input
            } else {
                var output = document.getElementById('outputImg1');
                output.src = URL.createObjectURL(file);
                output.onload = function() {
                    URL.revokeObjectURL(output.src) // free memory
                }
            }
        };
    </script>
    <script>
        var checkFileSizeImg2 = function(event) {
            var file = event.target.files[0];
            if(file.size > 10 * 1024 * 1024) { // 10MB
                alert("File ảnh 2 quá lớn! Vui lòng chọn file ảnh nhỏ hơn 10MB.");
                event.target.value = ""; // reset the input
            } else {
                var output = document.getElementById('outputImg2');
                output.src = URL.createObjectURL(file);
                output.onload = function() {
                    URL.revokeObjectURL(output.src) // free memory
                }
            }
        };
    </script>
    <script>
        var checkFileSizeImg3 = function(event) {
            var file = event.target.files[0];
            if(file.size > 10 * 1024 * 1024) { // 10MB
                alert("File ảnh 3 quá lớn! Vui lòng chọn file ảnh nhỏ hơn 10MB.");
                event.target.value = ""; // reset the input
            } else {
                var output = document.getElementById('outputImg3');
                output.src = URL.createObjectURL(file);
                output.onload = function() {
                    URL.revokeObjectURL(output.src) // free memory
                }
            }
        };
    </script>
    <script>
        var checkFileSizeImg4 = function(event) {
            var file = event.target.files[0];
            if(file.size > 10 * 1024 * 1024) { // 10MB
                alert("File ảnh 4 quá lớn! Vui lòng chọn file ảnh nhỏ hơn 10MB.");
                event.target.value = ""; // reset the input
            } else {
                var output = document.getElementById('outputImg4');
                output.src = URL.createObjectURL(file);
                output.onload = function() {
                    URL.revokeObjectURL(output.src) // free memory
                }
            }
        };
    </script>
    <script>
        var checkFileSizeVideo1 = function(event) {
            var file = event.target.files[0];
            if(file.size > 100 * 1024 * 1024) { // 100MB
                alert("File video mở hàng quá lớn! Vui lòng chọn file video nhỏ hơn 100MB.");
                event.target.value = ""; // reset the input
            } else {
                var output = document.getElementById('outputVideo1');
                output.src = URL.createObjectURL(file);
                output.onload = function() {
                    URL.revokeObjectURL(output.src) // free memory
                }
            }
        };
    </script>
    <script>
        var checkFileSizeVideo2 = function(event) {
            var file = event.target.files[0];
            if(file.size > 100 * 1024 * 1024) { // 100MB
                alert("File video quay sản phẩm quá lớn! Vui lòng chọn file video nhỏ hơn 100MB.");
                event.target.value = ""; // reset the input
            } else {
                var output = document.getElementById('outputVideo2');
                output.src = URL.createObjectURL(file);
                output.onload = function() {
                    URL.revokeObjectURL(output.src) // free memory
                }
            }
        };
    </script>

</head>
<body>
<div th:replace="~{layout/header :: header}"></div>
<div class="container-fluid mb-4">
    <div class="container">
        <div class="form-container" style="background-color: white;">
            <div class="col-00" style="display: flex; align-items: center;">
                <a th:href="@{/vieworderitems(orderId=${orderId})}" class="before" style="align-items: center; display: flex; text-decoration: none;">
                    <span class="material-symbols-outlined back">arrow_back_ios</span>
                </a>
                <h6 style="color: #211f7f; align-items: center;  margin: 0px 5px 0px 0px; font-family: Verdana; font-weight: bold">Lý do trả hàng</h6>
            </div>
            <div class="col-order d-flex" style="justify-content: flex-end; font-size: 20px; border-bottom: 1px solid #cecece; padding: 10px">
                <p style="margin: 0px 5px 0px 0px; color: #f17746">MÃ ĐƠN HÀNG:</p>
                <span class="align-middle text-center" style="color: #f17746">[[${orderId}]]</span>
            </div>
            <form th:action="@{/returnorder(orderId=${orderId})}" method="post" enctype="multipart/form-data" style="margin-top: 10px">
                <div class="row d-flex align-items-center justify-content-center" style="width: 870px; margin-left: 0px">
                    <div class="col-01 align-items-center" style="width: 33.3%">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="reason" id="reason0" value="Thiếu hàng" required>
                            <label class="form-check-label" for="reason0">Thiếu hàng</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="reason" id="reason1" value="Người bán gửi sai hàng" required>
                            <label class="form-check-label" for="reason1">Người bán gửi sai hàng</label>
                        </div>
                    </div>
                    <div class="col-02 align-items-center" style="width: 33.3%">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="reason" id="reason2" value="Hàng hư hỏng, rách, nát" required>
                            <label class="form-check-label" for="reason2">Hàng hư hỏng, rách, nát</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="reason" id="reason3" value="Khác với mô tả" required>
                            <label class="form-check-label" for="reason3">Khác với mô tả</label>
                        </div>
                    </div>
                    <div class="col-03 align-items-center" style="width: 33.3%">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="reason" id="reason4" value="Hàng giả, nhái" required>
                            <label class="form-check-label" for="reason4">Hàng giả, nhái</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="reason" id="reason5" value="Hàng đã qua sử dụng" required>
                            <label class="form-check-label" for="reason5">Hàng đã qua sử dụng</label>
                        </div>
                    </div>
                </div>
                <div class="form-group" style="width: 100%">
                    <label for="detailreason">Mô tả chi tiết thêm:</label>
                    <input type="text" class="form-control" id="detailreason" name="detailreason" required style="border-radius: 50px">
                </div>


                <h6 class="text-center" style="color: #fe6502;">THÊM 4 HÌNH ẢNH VÀ 1 VIDEO MỞ HÀNG, 1 VIDEO QUAY SẢN PHẨM CHO THẤY RÕ SẢN PHẨM NHẬN ĐƯỢC KHÔNG ĐÚNG NHƯ MONG ĐỢI</h6>
                <h6 class="text-center" style="color: #3448c5;">Lưu ý: Mỗi hình ảnh tối đa 10MB và mỗi video tối đa 100MB</h6>

                <div class="row d-flex justify-content-center" style="width: 100%; padding: 20px; 0px; margin-left: 0px">
                    <div class="col-01" style="justify-content: center; width: 25%">
                        <input type="file" class="form-control-file" id="image1" name="image1" accept="image/*" onchange="checkFileSizeImg1(event)" style="display:none;" required>
                        <label for="image1" style="display: flex; justify-content: center;">
                            <span class="material-symbols-outlined d-flex align-items-center justify-content-center" style="color: grey; height: 26px; weight: 30px">shift</span>
                            Chọn ảnh 1
                        </label>
                        <div class="image-preview" style="display: flex; justify-content: center; align-items: center;">
                            <img id="outputImg1" width="150" style="border: 1px solid #cecece; border-radius: 5px;"/>
                        </div>
                    </div>

                    <div class="col-02" style="justify-content: center; width: 25%">
                        <input type="file" class="form-control-file" id="image2" name="image2" accept="image/*" onchange="checkFileSizeImg2(event)" style="display:none;" required>
                        <label for="image2"  style="display: flex; justify-content: center;">
                            <span class="material-symbols-outlined d-flex align-items-center justify-content-center" style="color: grey; height: 26px; weight: 30px">shift</span>
                            Chọn ảnh 2
                        </label>
                        <div class="image-preview" style="display: flex; justify-content: center; align-items: center;">
                            <img id="outputImg2" width="150" style="border: 1px solid #cecece; border-radius: 5px;"/>
                        </div>
                    </div>

                    <div class="col-03" style="justify-content: center; width: 25%">
                        <input type="file" class="form-control-file" id="image3" name="image3" accept="image/*" onchange="checkFileSizeImg3(event)" style="display:none;" required>
                        <label for="image3"  style="display: flex; justify-content: center;">
                            <span class="material-symbols-outlined d-flex align-items-center justify-content-center" style="color: grey; height: 26px; weight: 30px">shift</span>
                            Chọn ảnh 3
                        </label>
                        <div class="image-preview" style="display: flex; justify-content: center; align-items: center;">
                            <img id="outputImg3" width="150" style="border: 1px solid #cecece; border-radius: 5px;"/>
                        </div>
                    </div>

                    <div class="col-04" style="justify-content: center; width: 25%">
                        <input type="file" class="form-control-file" id="image4" name="image4" accept="image/*" onchange="checkFileSizeImg4(event)" style="display:none;" required>
                        <label for="image4"  style="display: flex; justify-content: center;">
                            <span class="material-symbols-outlined d-flex align-items-center justify-content-center" style="color: grey; height: 26px; weight: 30px">shift</span>
                            Chọn ảnh 4
                        </label>
                        <div class="image-preview" style="display: flex; justify-content: center; align-items: center;">
                            <img id="outputImg4" width="150" style="border: 1px solid #cecece; border-radius: 5px;"/>
                        </div>
                    </div>
                </div>

                <div class="row d-flex justify-content-center" style="margin: 0px; width: 100%; padding: 20px 0px; border-bottom: 1px solid #cecece">
                    <div class="form-group video-container" style=" width: 40%; margin-right: 20px">
                        <h6 style="margin: 0px 0px 0px;">Video mở hàng</h6>
                        <div class="row-01 d-flex justify-content-center">
                            <input type="file" class="form-control-file" id="video1" name="video1" accept="video/*" onchange="checkFileSizeVideo1(event)"
                                   style="margin-bottom: 10px ; display: none;" required>
                            <label for="video1" style="color: grey; font-weight: bold; border:  1px solid #cecece; border-radius: 50px; margin: 10px; width: 200px; height: 50px"
                                   class="title d-flex align-items-center justify-content-center">Chọn video</label>
                        </div>
                        <div id="videoContainer" style="display: none; flex; justify-content: center; align-items: center;">
                            <video id="outputVideo1" width="200px" style="border: 1px solid #cecece;" controls></video>
                        </div>
                    </div>

                    <div class="form-group video-container2" style=" width: 40%; margin-left: 20px">
                        <h6 style="margin: 0px 0px 0px;">Video quay sản phẩm</h6>
                        <div class="row-02 d-flex justify-content-center">
                            <input type="file" class="form-control-file" id="video2" name="video2" accept="video/*" onchange="checkFileSizeVideo2(event)"
                                   style="margin-bottom: 10px ; display: none;" required>
                            <label for="video2" style="color: grey; font-weight: bold; border:  1px solid #cecece; border-radius: 50px; margin: 10px; width: 200px; height: 50px"
                                   class="title d-flex align-items-center justify-content-center">Chọn video</label>
                        </div>
                        <div id="videoContainer2" style="display: none; flex; justify-content: center; align-items: center;">
                            <video id="outputVideo2" width="200px" style="border: 1px solid #cecece;" controls></video>
                        </div>
                    </div>
                </div>

                <h6 class="text" style="margin: 20px 0px;">Thông tin người trả hàng</h6>
                <div class="form-group row d-flex align-items-center" style="border-radius: 50px; border: 1px solid #cecece;">
                    <span class="material-symbols-outlined" style="color: grey; margin: 5px">person_2</span>
                    <div class="col-info">
                        <input type="text" id="name" name="name" th:value="${account.firstName} + ' ' + ${account.lastName}" required class="form-control"
                               style="border-radius: 50px; padding: 6px 0px; border: none;">
                    </div>
                </div>

                <div class="form-group row d-flex align-items-center" style="border-radius: 50px; border: 1px solid #cecece;">
                    <span class="material-symbols-outlined" style="color: grey; margin: 5px">location_on</span>
                    <div class="col-info">
                        <input type="text" id="address" name="address" th:value="${account.address}" required class="form-control"
                               style="border-radius: 50px; padding: 6px 0px; border: none;">
                    </div>
                </div>
                <div class="form-group row d-flex align-items-center" style="border-radius: 50px; border: 1px solid #cecece;">
                    <span class="material-symbols-outlined" style="color: grey; margin: 5px">call</span>
                    <div class="col-info">
                        <input type="text" id="phoneNumber" name="phoneNumber" th:value="${account.phoneNumber}" required class="form-control"
                               style="border-radius: 50px; padding: 6px 0px; border: none;">
                    </div>
                </div>
                <div class="form-group row d-flex align-items-center" style="border-radius: 50px; border: 1px solid #cecece; margin-bottom: 20px">
                    <span class="material-symbols-outlined" style="color: grey; margin: 5px">mail</span>
                    <div class="col-info">
                        <input type="email" id="email" name="email" th:value="${account.email}" required class="form-control"
                               style="border-radius: 50px; padding: 6px 0px; border: none;">
                    </div>
                </div>
                <div class="text-center">
                    <button type="submit" class="btn btn-order">Xác nhận trả hàng</button>
                </div>
            </form>
        </div>
    </div>
</div>
<div th:replace="~{layout/footer :: footer}"></div>
<script>
    var checkboxes = document.querySelectorAll('input[type="radio"][name="reason"]');

    checkboxes.forEach(function(checkbox) {
        checkbox.addEventListener('change', function() {
            checkboxes.forEach(function(c) {
                c.style.backgroundColor = '';
            });
            if (this.checked) {
                this.style.backgroundColor = '#5591c5';
            }
        });
    });

    // Set the background color for the checked checkbox when the page loads
    var checkedCheckbox = document.querySelector('input[type="radio"][name="reason"]:checked');
    if (checkedCheckbox) {
        checkedCheckbox.style.backgroundColor = '#5591c5';
    }
</script>
<script>
    function checkFileSizeVideo1(event) {
        var videoContainer = document.getElementById('videoContainer');
        var videoElement = document.getElementById('outputVideo1');
        var file = event.target.files[0];
        if (file) {
            var reader = new FileReader();
            reader.onload = function(e) {
                videoElement.src = e.target.result;
            };
            reader.readAsDataURL(file);
            videoContainer.style.display = 'flex';
        } else {
            videoContainer.style.display = 'none';
        }
    }
</script>
<script>
    function checkFileSizeVideo2(event) {
        var videoContainer = document.getElementById('videoContainer2');
        var videoElement = document.getElementById('outputVideo2');
        var file = event.target.files[0];
        if (file) {
            var reader = new FileReader();
            reader.onload = function(e) {
                videoElement.src = e.target.result;
            };
            reader.readAsDataURL(file);
            videoContainer2.style.display = 'flex';
        } else {
            videoContainer2.style.display = 'none';
        }
    }
</script>
</body>

</html>